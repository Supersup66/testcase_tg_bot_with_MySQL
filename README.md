# ReadMe для Telegram Бот SAP Board Rental Bot

## Описание проекта

Данный проект представляет собой телеграм-бота, предназначенного для аренды сапбордов. Пользователи могут зарегистрироваться, заказывать доски и получать дополнительную информацию непосредственно через чат с ботом. Сервер базы данных MySQL разворачивается локально через docker образ.


## Установка и запуск

### Требования

- Python >= 3.7
- pyTelegramBotAPI
- mysql-connector-python

### Шаги установки

- Клонируйте репозиторий проекта:
```
git clone https://github.com/your_username/sap_board_bot.git
```
- Установите необходимые библиотеки:
```
pip install -r requirements.txt
```
- Создайте файл .env и заполните токены и ключи API вашего Телеграм-бота:

- Подключение базы данных:
```
docker compose up -d
```
- Запустите приложение:
```
python bot.py
```

### Структура проекта


testcase_tg_bot_with_MySQL/
├── __init__.py         # Инициализатор пакета Python\
├── bot.py              # Основной скрипт запуска приложения\
├── constants.py        # Глобальные константы и настройки\
├── core.py             # Сервисные функции\
├── database/           # Директория с SQL-запросами и взаимодействием с базой данных\
│   ├── __init__.py     # Инициализатор пакета Python\
│   ├── connector.py    # Функции для взаимодействия с базой данных\
│   └── queries.py      # Функции запросов к базе данных\
├── docker-compose.yml  # Исполняемый файл docker compose для создания сервера MySQL\
├── init.sql            # Файл инициализации таблиц для работы бота\
├── logger.py           # Настройки логирования ошибок и действий\
├── README.md           # Текущий документ\
└── requirements.txt    # Список зависимостей\


### Основные команды и функциональность

##### /start

При первом старте отправляет приветственное сообщение с предложением регистрации либо предлагает выбрать нужный пункт меню («Заказать сапборд», «Свяжитесь со мной»).

##### Регистрация (\U0001F386)

Пользователь подтверждает свой телефонный номер через встроенную возможность отправки контактов.

##### Команда «Заказ сапборда»

Отображается кнопка для оформления заказа. Реализация обработки заказов осуществляется отдельно и зависит от логики вашей базы данных.

### Архитектура и поток исполнения

Главный обработчик сообщений: Функция start() обрабатывает команду /start. Если пользователь новый — предлагается регистрация, иначе отображаются доступные опции.
Регистрация: По нажатию кнопки «Регистрация» отправляется форма подтверждения номера телефона.
Обработка номеров телефонов: Полученный контакт сохраняется в базу данных функцией insert_user().
Проверка активности пользователей: Фоновая задача проверяет активность пользователей каждые N секунд и возвращает их в главное меню по истечении срока.


### Логи и ошибки

Все важные события и ошибки записываются в main.log с использованием модуля logger. Это позволяет отслеживать работу системы и выявлять проблемы.


## Развитие и поддержка

Проект открыт для предложений по улучшению функционала и оптимизации производительности. Вы можете создавать issues и pull requests на GitHub.


## Контакты

Для вопросов или предложений обращайтесь к разработчику проекта:

Email: [Alexey220V2014@gmail.com](mailto:Alexey220V2014@gmail.com)
Telegram: [@SuperSup66](https://t.me/SuperSup66)
GitHub: [github.com/SuperSup66](https://github.com/SuperSup66)


Спасибо за использование нашего бота!

Версия: 1.0.0